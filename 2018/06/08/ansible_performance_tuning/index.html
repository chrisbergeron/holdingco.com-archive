<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <title>Speeding up Ansible Playbook runs | The Holding Company</title>

  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <meta name="description" content="Ansible is a great tool for configuration management but because of the way it’s designed a common complaint is that it’s not as fast as other tools like Salt, Chef or Puppet.  This is because Ansible">
<meta property="og:type" content="article">
<meta property="og:title" content="Speeding up Ansible Playbook runs">
<meta property="og:url" content="https://holdingco.com/2018/06/08/ansible_performance_tuning/index.html">
<meta property="og:site_name" content="The Holding Company">
<meta property="og:description" content="Ansible is a great tool for configuration management but because of the way it’s designed a common complaint is that it’s not as fast as other tools like Salt, Chef or Puppet.  This is because Ansible">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2018-06-08T23:13:25.000Z">
<meta property="article:modified_time" content="2018-06-14T16:42:47.000Z">
<meta property="article:author" content="Chris Bergeron">
<meta property="article:tag" content="devops">
<meta property="article:tag" content="ansible">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="The Holding Company" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
    
  <meta content="{{ title }}" name="description">
  <meta content="{{ title }}" name="keywords">
  <meta content="{{ title }}" name="author">

  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|PT+Sans+Narrow|Source+Sans+Pro:200,300,400,600,700,900&amp;subset=all" rel="stylesheet" type="text/css">

  <!-- Global styles START -->   
  
<link rel="stylesheet" href="/metronic/assets/plugins/font-awesome/css/font-awesome.min.css">

  
<link rel="stylesheet" href="/metronic/assets/plugins/bootstrap/css/bootstrap.min.css">

  <!-- Global styles END --> 
   
  <!-- Page level plugin styles START -->
  
<link rel="stylesheet" href="/metronic/assets/pages/css/animate.css">

  
<link rel="stylesheet" href="/metronic/assets/plugins/owl.carousel/assets/owl.carousel.css">

  <!-- Page level plugin styles END -->

  <!-- Theme styles START -->
  
<link rel="stylesheet" href="/metronic/assets/pages/css/components.css">

  
<link rel="stylesheet" href="/metronic/assets/pages/css/slider.css">

  
<link rel="stylesheet" href="/metronic/assets/corporate/css/style.css">

  
<link rel="stylesheet" href="/metronic/assets/pages/css/portfolio.css">

  
<link rel="stylesheet" href="/metronic/assets/corporate/css/style-responsive.css">

  
<link rel="stylesheet" href="/metronic/assets/corporate/css/themes/blue.css">

  
<link rel="stylesheet" href="/css/theme-styles.css">

  <!-- Theme styles END -->
<meta name="generator" content="Hexo 5.2.0"></head>

<body class="corporate">
  <!-- BEGIN TOP BAR -->
<div class="pre-header">
  <div class="container">
    <div class="row">
      <!-- BEGIN TOP BAR LEFT PART -->
      <div class="col-md-6 col-sm-6 col-xs-9 additional-shop-info">
	<ul class="list-unstyled list-inline">
	  <li><i class="fa fa-phone"></i><span>716-472-4484</span></li>
	  <li><i class="fa fa-envelope-o"></i><span>holdingco@chrisbergeron.com</span></li>
	</ul>
      </div>
      <!-- END TOP BAR LEFT PART -->
      <!-- BEGIN TOP BAR MENU -->
      <div class="col-md-6 col-sm-6 col-xs-3 additional-nav">
	<ul class="list-unstyled list-inline pull-right">
	  <li><a href="/login">Log In</a></li>
	</ul>
      </div>
      <!-- END TOP BAR MENU -->
    </div>
  </div>        
</div>
<!-- END TOP BAR -->
<!-- BEGIN HEADER -->
<div class="header">
  <div class="container">
    <!--<a class="site-logo" href="/" id="logo">The Holding Company</a>-->

    <a class="site-logo" href="/">
      <img src="/metronic/assets/corporate/img/logos/logo-corp-blue.png" alt="Metronic FrontEnd">
    </a>

    <a href="javascript:void(0);" class="mobi-toggler"><i class="fa fa-bars"></i></a>

    <!-- BEGIN NAVIGATION -->
    <div class="header-navigation pull-right font-transform-inherit">
      <ul>
	
	<li class="">
	  <a  href="/">Home</a>
	</li>
	
	<li class="">
	  <a  href="/projects/">Projects</a>
	</li>
	
	<li class="">
	  <a  href="/archives/">Blog</a>
	</li>
	
	<li class="">
	  <a  href="/about/">About</a>
	</li>
	
	<!-- BEGIN TOP SEARCH -->
	<li class="menu-search">
	  <span class="sep"></span>
	  <i class="fa fa-search search-btn"></i>
	  <div class="search-box">
	    <form action="#">
	      <div class="input-group">
		<input type="text" placeholder="Search" class="form-control st-default-search-input">
		<span class="input-group-btn">
		  <button class="btn btn-primary" type="submit">Search</button>
		</span>
	      </div>
	    </form>
	  </div> 
	</li>
	<!-- END TOP SEARCH -->
      </ul>
    </div>
    <!-- END NAVIGATION -->
  </div>
</div>
<!-- Header END -->

  <div class="container">
  <ul class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/archives/">Blog</a></li>
    <li class="active">Post</li>
  </ul>
  <section id="main">
    
    <h2 itemprop="name">
      <a class="article-title" href="/2018/06/08/ansible_performance_tuning/">Speeding up Ansible Playbook runs</a>
    </h2>


    <div class="row">
<div class="col-md-9 col-sm-9 blog-posts">
<article id="post-ansible_performance_tuning" class="article article-type-post blog-item" itemscope itemprop="blogPost">
  <div class="article-meta">
  </div>
  <div class="article-inner">
    
    
    <header class="article-header">
      <ul class="blog-info">
	<li><i class="fa fa-user"></i> Anonymous</li>
	<li><i class="fa fa-calendar"></i>
	  <time datetime="2018-06-08T23:13:25.000Z" itemprop="datePublished">2018/06/08</time>

	</li>
	<li class="hidden-xs"><i class="fa fa-comments"></i>
	  <a href="https://holdingco.com/2018/06/08/ansible_performance_tuning/#disqus_thread" class="article-comment-link">Comments</a>
	</li>
	<li class="hidden-xs"><i class="fa fa-tags"></i> 
	  
  
    <a href="/tags/devops/" title="devops">devops</a>,
  
    <a href="/tags/ansible/" title="ansible">ansible</a>
  


	</li>
      </ul>
      
  <div class="article-category">
    
    Category: 
    
    Categories:
    <a class="article-category-link" href="/categories/linux/">linux</a>
  </div>
  <br>


    </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Ansible is a great tool for configuration management but because of the way it’s designed a common complaint is that it’s not as fast as other tools like Salt, Chef or Puppet.  This is because Ansible doesn’t have an agent that listens (although it can) on a host and uses a different type of deployment methodology that is based on SSH.  This post isn’t about the pros and cons of each tool, but rather about ways to improve upon Ansible’s default configuration values.  By default Ansible ships with very conservative default values.  This is smart in my opinion because it offers greater compatibility out-of-the-box.  Here I highlight some safe adjustments that can be made to the default configuration for improved performance (speed!)</p>
<h3 id="Real-World-Playbook-Test"><a href="#Real-World-Playbook-Test" class="headerlink" title="Real World Playbook Test"></a>Real World Playbook Test</h3><p>For this test I’m using a real-world playbook that I use in my homelab when provisioning a new CentOS VM.  It configures some basic things (hostname, ssh keys, etc), installs common packages/utilities and tunes some OS configurations.</p>
<a id="more"></a>
<p>The VM I’m running the playbook from is on a Centos 7 VM running on an ESXi 6.5 Host.  The playbook will be running against <strong>12 target VMs.</strong>  The VMs it will be talking to are on the same VMNetwork.  The Ansible VM has 4 vCPUs and 8GB of ram.</p>
<p>Before tuning Ansible, we’ll need to gather some metrics about how each playbook run performs.  Fortunately in Ansible v2.0 and higher there are two built in callbacks that can be enabled: <code>timer</code> and <code>profile_tasks</code>  Timer will output the total playbook run time, similar to running the <code>time</code> command before an <code>ansible-playbook</code> command.  The second and more interesting of the two IMO is <code>profile_tasks</code>.  This callback displays a nice summary of each TASK and how long it took to execute.  To enable these settings edit (or create) an <code>ansible.cfg</code> file.  You can check to see if you already have an Ansible config file by running:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ansible --version</span><br><span class="line">ansible 2.5.3</span><br><span class="line">  config file = /home/directory/ansible/ansible.cfg</span><br></pre></td></tr></table></figure>

<p>This tells you the location of the configuration file that Ansible uses and the version.  If you don’t see a config file listed you can create one in the directory where your playbooks will be run.</p>
<p>We’re going to add the following line to the config file under the <code>[defaults]</code> subsection:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">defaults</span>]</span><br><span class="line"><span class="string">callback_whitelist</span> <span class="string">=</span> <span class="string">timer,</span> <span class="string">profile_tasks</span></span><br></pre></td></tr></table></figure>
<p>I’m running the follwing playbook command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ansible-playbook init_centos.yml -e @group_vars/vault.yml --<span class="built_in">limit</span> vms</span><br></pre></td></tr></table></figure>

<p>Here’s the output from the playbook run with the default configuration:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Friday 08 June 2018  16:04:29 -0400 (0:00:16.486) 0:02:04.805 ***</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">TASK | Install packages ---------------------------------- 20.73s</span><br><span class="line">TASK | Start filebeat and enable service ----------------- 16.49s</span><br><span class="line">TASK | Install filebeat ----------------------------------- 6.15s</span><br><span class="line">Gathering Facts ------------------------------------------- 5.76s</span><br><span class="line">TASK | Install rpms for Spacewalk &#x2F; RHN ------------------- 5.15s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent Listener -------------- 2.81s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent ----------------------- 2.52s</span><br><span class="line">TASK | Copy Influxdata repo (for Telegraf) ---------------- 2.22s</span><br><span class="line">TASK | Ensure mount directories exist --------------------- 2.21s</span><br><span class="line">TASK | Copy Telegraf config ------------------------------- 2.18s</span><br><span class="line">TASK | Copy filebeat config template ---------------------- 2.17s</span><br><span class="line">TASK | Copy user ssh&#x2F;config  ------------------------------ 2.16s</span><br><span class="line">TASK | Update &#x2F;etc&#x2F;services file -------------------------- 2.14s</span><br><span class="line">TASK | Set &#x2F;etc&#x2F;hostname ---------------------------------- 2.13s</span><br><span class="line">TASK | Disable SELinux (Centos 7) ------------------------- 2.10s</span><br><span class="line">TASK | Copy ssh keys -------------------------------------- 2.09s</span><br><span class="line">TASK | Install prowl -------------------------------------- 2.09s</span><br><span class="line">TASK | Copy .bash_logout for user ------------------------- 2.08s</span><br><span class="line">TASK | Copy .bashrc for user ------------------------------ 2.08s</span><br><span class="line">TASK | Copy iTerm2 bash shell integration for user -------- 2.07s</span><br><span class="line">Playbook run took 0 days, 0 hours, 2 minutes, 4 seconds</span><br></pre></td></tr></table></figure>

<p>The important line here is the last one:  <strong>Playbook run took … 2 minutes, 4 seconds</strong>  That’s <strong>124</strong> seconds.  Not terrible, but if you’re deploying to a large number of machines (say 50 or 100) those minutes can quickly add up.</p>
<p>Let’s start making some configuration tweaks and see if we can speed things up.</p>
<h3 id="Enable-SSH-Pipelining"><a href="#Enable-SSH-Pipelining" class="headerlink" title="Enable SSH Pipelining"></a>Enable SSH Pipelining</h3><p>To enable SSH pipelining, add this to your ansible.cfg file under the <code>[defaults]</code> heading:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">pipelining</span> <span class="string">=</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>From the <a target="_blank" rel="noopener" href="https://docs.ansible.com/ansible/2.4/intro_configuration.html#pipelining">Ansible manual</a>: <em>Enabling pipelining reduces the number of SSH operations required to execute a module on the remote server, by executing many ansible modules without actual file transfer.</em>  </p>
<p>Let’s run the same playbook again but with this configuration option set and see what happens:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Friday 08 June 2018  16:07:19 -0400 (0:00:23.585) 0:01:56.055 ***</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">TASK | Start filebeat and enable service ----------------- 23.58s</span><br><span class="line">TASK | Install packages ---------------------------------- 16.75s</span><br><span class="line">TASK | Install filebeat ----------------------------------- 6.17s</span><br><span class="line">Gathering Facts ------------------------------------------- 5.50s</span><br><span class="line">TASK | Install rpms for Spacewalk &#x2F; RHN ------------------- 4.61s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent Listener -------------- 2.33s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent ----------------------- 2.26s</span><br><span class="line">TASK | Set &#x2F;etc&#x2F;hostname ---------------------------------- 1.91s</span><br><span class="line">TASK | Copy Influxdata repo (for Telegraf) ---------------- 1.90s</span><br><span class="line">TASK | Copy ssh&#x2F;config for user --------------------------- 1.88s</span><br><span class="line">TASK | Copy ssh keys for user ----------------------------- 1.87s</span><br><span class="line">TASK | Copy .bash_logout for user ------------------------- 1.83s</span><br><span class="line">TASK | Copy Telegraf config ------------------------------- 1.82s</span><br><span class="line">TASK | Update &#x2F;etc&#x2F;services file -------------------------- 1.82s</span><br><span class="line">TASK | Copy .bashrc for user  ----------------------------- 1.82s</span><br><span class="line">TASK | Copy Telegraf environment default ------------------ 1.81s</span><br><span class="line">TASK | Copy .bashrc for root ------------------------------ 1.80s</span><br><span class="line">TASK | Install prowl -------------------------------------- 1.79s</span><br><span class="line">TASK | Install prowl API key ------------------------------ 1.77s</span><br><span class="line">TASK | Copy .bash_logout for root ------------------------- 1.77s</span><br><span class="line">Playbook run took 0 days, 0 hours, 1 minutes, 55 seconds</span><br></pre></td></tr></table></figure>

<p>Here we can see that the play run completed <strong>9 seconds faster</strong>.  Not bad.  Let’s see if we can tweak it some more.</p>
<h3 id="Reduce-poll-interval-to-5s"><a href="#Reduce-poll-interval-to-5s" class="headerlink" title="Reduce poll interval to 5s"></a>Reduce poll interval to 5s</h3><p>The default poll interval is set to 15 seconds.  This is how often Ansible will check on task that’s running and decide if it can proceed.  Let’s set it to 5 seconds and see what happens.  Add or edit this line in the ansible.cfg file, again under the <code>[defaults]</code> heading:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">poll_interval</span> <span class="string">=</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>Let’s run it:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Friday 08 June 2018  16:10:09 -0400 (0:00:13.277) 0:01:46.888 ***</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">TASK | Install packages ---------------------------------- 18.66s</span><br><span class="line">TASK | Start filebeat and enable service ----------------- 13.28s</span><br><span class="line">TASK | Install filebeat ----------------------------------- 5.61s</span><br><span class="line">Gathering Facts ------------------------------------------- 5.50s</span><br><span class="line">TASK | Install rpms for Spacewalk &#x2F; RHN ------------------- 4.77s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent Listener -------------- 2.33s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent ----------------------- 2.19s</span><br><span class="line">TASK | Copy filebeat config template ---------------------- 2.01s</span><br><span class="line">TASK | Copy ssh&#x2F;config for user  -------------------------- 1.87s</span><br><span class="line">TASK | Copy Telegraf environment default ------------------ 1.86s</span><br><span class="line">TASK | Set &#x2F;etc&#x2F;hostname ---------------------------------- 1.86s</span><br><span class="line">TASK | Copy ssh keys for user  ---------------------------- 1.84s</span><br><span class="line">TASK | Copy Influxdata repo (for Telegraf) ---------------- 1.84s</span><br><span class="line">TASK | Copy .bash_logout for root ------------------------- 1.80s</span><br><span class="line">TASK | Update &#x2F;etc&#x2F;services file -------------------------- 1.79s</span><br><span class="line">TASK | Install prowlnotify -------------------------------- 1.77s</span><br><span class="line">TASK | Copy .bashrc for root ------------------------------ 1.77s</span><br><span class="line">TASK | Copy .bash_logout for user ------------------------- 1.76s</span><br><span class="line">TASK | Copy .bashrc for user ------------------------------ 1.76s</span><br><span class="line">TASK | Copy  sudoers file --------------------------------- 1.76s</span><br><span class="line">Playbook run took 0 days, 0 hours, 1 minutes, 46 seconds</span><br></pre></td></tr></table></figure>

<p>It took <strong>106</strong> seconds to run the playbook that time.  That’s <strong>18 seconds faster</strong> than what we started with.  Nice.  </p>
<p>Let’s try another tweak and see if we can’t do even better.</p>
<h3 id="Increase-forks-to-25"><a href="#Increase-forks-to-25" class="headerlink" title="Increase forks to 25"></a>Increase forks to 25</h3><p>For my use case I’m increasing the number of simultaneous forks to <strong>25</strong> from the default value of <strong>5</strong>.  Again, Ansible ships with pretty sane defaults.  We don’t want sane, we want fast.  Let’s see how how this does:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Friday 08 June 2018  16:12:10 -0400 (0:00:17.528) 0:01:25.858 ***</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; </span><br><span class="line">TASK | Start filebeat and enable service ----------------- 17.53s</span><br><span class="line">TASK | Install packages ---------------------------------- 10.29s</span><br><span class="line">TASK | Install filebeat ----------------------------------- 8.51s</span><br><span class="line">Gathering Facts ------------------------------------------- 3.77s</span><br><span class="line">TASK | Install rpms for Spacewalk &#x2F; RHN ------------------- 3.01s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent Listener -------------- 1.59s</span><br><span class="line">TASK | Disable SELinux (Centos 7) ------------------------- 1.40s</span><br><span class="line">TASK | Update &#x2F;etc&#x2F;services file -------------------------- 1.39s</span><br><span class="line">TASK | Install prowlnotify -------------------------------- 1.39s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent ----------------------- 1.36s</span><br><span class="line">TASK | Copy  sudoers file --------------------------------- 1.30s</span><br><span class="line">TASK | Copy Telegraf config ------------------------------- 1.30s</span><br><span class="line">TASK | Install treesize in &#x2F;usr&#x2F;local&#x2F;bin ----------------- 1.29s</span><br><span class="line">TASK | Copy .bash_logout for user ------------------------- 1.27s</span><br><span class="line">TASK | Copy .bashrc for root ------------------------------ 1.27s</span><br><span class="line">TASK | Install prowl -------------------------------------- 1.25s</span><br><span class="line">TASK | Copy .bash_logout for root ------------------------- 1.23s</span><br><span class="line">TASK | Copy ssh&#x2F;config for user --------------------------- 1.23s</span><br><span class="line">TASK | Copy filebeat config template ---------------------- 1.22s</span><br><span class="line">TASK | Copy Telegraf environment default ------------------ 1.22s</span><br><span class="line">Playbook run took 0 days, 0 hours, 1 minutes, 25 seconds</span><br></pre></td></tr></table></figure>

<p>Very nice.  Now we’re at <strong>85</strong> seconds.  Remember, I’m running the <em>exact same playbook</em> just with new configuration values (options).  This is very good but I think there’s more we can do.</p>
<h3 id="Enable-fact-caching"><a href="#Enable-fact-caching" class="headerlink" title="Enable fact_caching"></a>Enable fact_caching</h3><p>By enabling this value we’re telling Ansible to keep the facts it gathers in a local file.  You can also set this to a redis cache.  See the documentation for details.<br>Fact_caching is what happens when Ansible says, “Gathering facts” about your target hosts.  If we don’t change our targets hardware (or virtual hardware) very often this can be very helpful.  Enable it by adding this to your ansible.cfg file:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">fact_caching</span>            <span class="string">=</span> <span class="string">jsonfile</span></span><br><span class="line"><span class="string">fact_caching_connection</span> <span class="string">=</span> <span class="string">/tmp/.ansible_fact_cache</span></span><br></pre></td></tr></table></figure>

<p>What happens when we run it now?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Friday 08 June 2018  17:25:14 -0400 (0:00:03.000) 0:01:15.530 ***</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">TASK | Install packages ---------------------------------- 17.33s</span><br><span class="line">TASK | Install filebeat ----------------------------------- 4.46s</span><br><span class="line">TASK | Install rpms for Spacewalk &#x2F; RHN ------------------- 3.87s</span><br><span class="line">Gathering Facts ------------------------------------------- 3.82s</span><br><span class="line">TASK | Start filebeat and enable service ------------------ 3.00s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent Listener -------------- 2.34s</span><br><span class="line">checkmk : TASK | Copy Checkmk Agent ----------------------- 1.47s</span><br><span class="line">TASK | Install prowl -------------------------------------- 1.40s</span><br><span class="line">TASK | Update &#x2F;etc&#x2F;services file -------------------------- 1.38s</span><br><span class="line">TASK | Install prowlnotify -------------------------------- 1.33s</span><br><span class="line">TASK | Set &#x2F;etc&#x2F;hostname ---------------------------------- 1.33s</span><br><span class="line">TASK | Ensure mount directories exist --------------------- 1.28s</span><br><span class="line">TASK | Copy iTerm2 bash shell integration for user -------- 1.27s</span><br><span class="line">TASK | Copy Telegraf environment default ------------------ 1.25s</span><br><span class="line">TASK | Copy Influxdata repo (for Telegraf) ---------------- 1.24s</span><br><span class="line">TASK | Copy .bash_logout for user ------------------------- 1.23s</span><br><span class="line">TASK | Copy .bashrc for user ------------------------------ 1.22s</span><br><span class="line">TASK | Copy .bashrc for root ------------------------------ 1.21s</span><br><span class="line">TASK | Disable SELinux (Centos 7) ------------------------- 1.20s</span><br><span class="line">checkmk : TASK | Create Checkmk Agent Unit ---------------- 1.20s</span><br><span class="line">**Playbook run took 0 days, 0 hours, 1 minutes, 15 seconds**</span><br></pre></td></tr></table></figure>

<p><strong>75 seconds</strong>.  <em>Very nice.</em>  These tweaks have made a huge difference.</p>
<h3 id="Let’s-recap"><a href="#Let’s-recap" class="headerlink" title="Let’s recap"></a>Let’s recap</h3><p>We’ve reduced our playbook run time from <strong>2 minutes and 4 seconds</strong> down to <strong>1 minute and 15 seconds</strong>.  (<strong>184 seconds -&gt; 75 seconds</strong>)  That’s <strong>40%</strong> less time to run the <em>exact same</em> playbook with just a few configuration tweaks.</p>
<p>By adding / editing these configuration values we were able to cut our playbook run time nearly in half.  Now, these results aren’t going to be the same for everyone, every playbook or every environment.  There are many factors that account for Ansible performance.  </p>
<p>It’s clear, however, that modifying the defaults as we did here results in significant performance gains and can save you time on deployments.</p>
<p><em>( I’ll add a pretty table with summary here someday. )</em></p>

      
    </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/06/11/nzbget_elasticsearch_script/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          NZBGet ElasticSearch Plugin
        
      </div>
    </a>
  
  
    <a href="/2018/06/04/pfsense_4g_lte_cellular_modem_wan_backup/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Pfsense WAN with Cellular LTE/4G</div>
    </a>
  
</nav>

  
  <br>
</article>



<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
<br>


</div>
<div class="col-md-3 col-sm-3 blog-sidebar">
  <!-- CATEGORIES START -->
<h2 class="no-top-space">Categories</h2>

<div class="widget-wrap">
  <div class="widget">
    <ul class="nav sidebar-categories margin-bottom-40">
      
	<li>
	  <a href="/categories/Projects/">Projects (3)</a>
	</li>
      
	<li>
	  <a href="/categories/alternate-energy/">alternate energy (2)</a>
	</li>
      
	<li>
	  <a href="/categories/linux/">linux (11)</a>
	</li>
      
	<li>
	  <a href="/categories/carputer/">carputer (3)</a>
	</li>
      
	<li>
	  <a href="/categories/grafana/">grafana (1)</a>
	</li>
      
	<li>
	  <a href="/categories/dashboards/">dashboards (5)</a>
	</li>
      
	<li>
	  <a href="/categories/homelab/">homelab (3)</a>
	</li>
      
	<li>
	  <a href="/categories/blog/">blog (2)</a>
	</li>
      
	<li>
	  <a href="/categories/politics/">politics (1)</a>
	</li>
      
	<li>
	  <a href="/categories/Professional/">Professional (1)</a>
	</li>
      
	<li>
	  <a href="/categories/usenet/">usenet (2)</a>
	</li>
      
	<li>
	  <a href="/categories/networking/">networking (1)</a>
	</li>
      
	<li>
	  <a href="/categories/devops/">devops (1)</a>
	</li>
      
    </ul>
  </div>
</div>


<!-- CATEGORIES END -->

<!-- BEGIN BLOG TAGS -->
<div class="blog-tags margin-bottom-20">
  <h2>Tags</h2>
  
  <div class="widget-wrap">
    <div class="widget">
      
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/4G/" rel="tag"><i class='fa fa-tags'></i>4G</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LTE/" rel="tag"><i class='fa fa-tags'></i>LTE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/alexa/" rel="tag"><i class='fa fa-tags'></i>alexa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aluminum/" rel="tag"><i class='fa fa-tags'></i>aluminum</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/annotations/" rel="tag"><i class='fa fa-tags'></i>annotations</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ansible/" rel="tag"><i class='fa fa-tags'></i>ansible</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aspire/" rel="tag"><i class='fa fa-tags'></i>aspire</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bash/" rel="tag"><i class='fa fa-tags'></i>bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/carputer/" rel="tag"><i class='fa fa-tags'></i>carputer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloudinary/" rel="tag"><i class='fa fa-tags'></i>cloudinary</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/comma-ai/" rel="tag"><i class='fa fa-tags'></i>comma.ai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/curl/" rel="tag"><i class='fa fa-tags'></i>curl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/das/" rel="tag"><i class='fa fa-tags'></i>das</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dashboard/" rel="tag"><i class='fa fa-tags'></i>dashboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dashboard-linux/" rel="tag"><i class='fa fa-tags'></i>dashboard linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dashpc/" rel="tag"><i class='fa fa-tags'></i>dashpc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dashwerks/" rel="tag"><i class='fa fa-tags'></i>dashwerks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dell/" rel="tag"><i class='fa fa-tags'></i>dell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deluge/" rel="tag"><i class='fa fa-tags'></i>deluge</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/democrats-republicans/" rel="tag"><i class='fa fa-tags'></i>democrats, republicans</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/devops/" rel="tag"><i class='fa fa-tags'></i>devops</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/digital-ocean/" rel="tag"><i class='fa fa-tags'></i>digital ocean</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dns/" rel="tag"><i class='fa fa-tags'></i>dns</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dnsmasq/" rel="tag"><i class='fa fa-tags'></i>dnsmasq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/" rel="tag"><i class='fa fa-tags'></i>elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ethanol/" rel="tag"><i class='fa fa-tags'></i>ethanol</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fuel/" rel="tag"><i class='fa fa-tags'></i>fuel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/furnace/" rel="tag"><i class='fa fa-tags'></i>furnace</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/generator/" rel="tag"><i class='fa fa-tags'></i>generator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grafana/" rel="tag"><i class='fa fa-tags'></i>grafana</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag"><i class='fa fa-tags'></i>hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/home-improvement/" rel="tag"><i class='fa fa-tags'></i>home improvement</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hypermiling/" rel="tag"><i class='fa fa-tags'></i>hypermiling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/influxdb/" rel="tag"><i class='fa fa-tags'></i>influxdb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/interview/" rel="tag"><i class='fa fa-tags'></i>interview</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inxi/" rel="tag"><i class='fa fa-tags'></i>inxi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios/" rel="tag"><i class='fa fa-tags'></i>ios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iphone/" rel="tag"><i class='fa fa-tags'></i>iphone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ipmi/" rel="tag"><i class='fa fa-tags'></i>ipmi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kibana/" rel="tag"><i class='fa fa-tags'></i>kibana</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag"><i class='fa fa-tags'></i>linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mariadb/" rel="tag"><i class='fa fa-tags'></i>mariadb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/metalcasting/" rel="tag"><i class='fa fa-tags'></i>metalcasting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/monitorr/" rel="tag"><i class='fa fa-tags'></i>monitorr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag"><i class='fa fa-tags'></i>mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nas/" rel="tag"><i class='fa fa-tags'></i>nas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/netgear/" rel="tag"><i class='fa fa-tags'></i>netgear</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nzbget/" rel="tag"><i class='fa fa-tags'></i>nzbget</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/panda/" rel="tag"><i class='fa fa-tags'></i>panda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pfsense/" rel="tag"><i class='fa fa-tags'></i>pfsense</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/" rel="tag"><i class='fa fa-tags'></i>php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pihole/" rel="tag"><i class='fa fa-tags'></i>pihole</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plex/" rel="tag"><i class='fa fa-tags'></i>plex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prometheus/" rel="tag"><i class='fa fa-tags'></i>prometheus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/r710/" rel="tag"><i class='fa fa-tags'></i>r710</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raspberry-pi/" rel="tag"><i class='fa fa-tags'></i>raspberry pi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sabnzbd/" rel="tag"><i class='fa fa-tags'></i>sabnzbd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sas/" rel="tag"><i class='fa fa-tags'></i>sas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/showterm/" rel="tag"><i class='fa fa-tags'></i>showterm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/supermicro/" rel="tag"><i class='fa fa-tags'></i>supermicro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/systemd/" rel="tag"><i class='fa fa-tags'></i>systemd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/telegraf/" rel="tag"><i class='fa fa-tags'></i>telegraf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/telematics/" rel="tag"><i class='fa fa-tags'></i>telematics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/usenet/" rel="tag"><i class='fa fa-tags'></i>usenet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webhooks/" rel="tag"><i class='fa fa-tags'></i>webhooks</a></li></ul>
    </div>
  </div>


</div>
<!-- END BLOG TAGS -->


<!-- BEGIN FEATURED POSTS -->                            
<h2>Featured Posts</h2>
<div class="recent-news margin-bottom-10">
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</div>
<!-- END FEATURED POSTS -->                            

</div>
</div>

  </section>
</div>

    <!-- BEGIN PRE-FOOTER -->
    <div class="pre-footer">
      <div class="container">
        <div class="row">
          <!-- BEGIN BOTTOM ABOUT BLOCK -->
          <div class="col-md-4 col-sm-6 pre-footer-col">
            <h2>About Us</h2>
            <p>Computer Lab is a software development and marketing company based in Brooklyn, New York. <br><br> Computer Lab was founded in 2015, and is focused on so on and so forth.</p>
          </div>
          <!-- END BOTTOM ABOUT BLOCK -->

          <!-- BEGIN BOTTOM CONTACTS -->
          <div class="col-md-4 col-sm-6 pre-footer-col">
            <h2>Contact</h2>
            <address class="margin-bottom-40">
              123 Sessame St<br>
              5th Floor<br>
              Brooklyn, NY 11249<br>
              Phone: 716-472-4484<br>
              Email: <a href="mailto:holdingco@chrisbergeron.com">holdingco@chrisbergeron.com</a><br>
            </address>
          </div>
          <!-- END BOTTOM CONTACTS -->

	
        </div>
      </div>
    </div>
    <!-- END PRE-FOOTER -->

    <!-- BEGIN FOOTER -->
    <div class="footer">
      <div class="container">
        <div class="row">
          <!-- BEGIN COPYRIGHT -->
          <div class="col-md-6 col-sm-6 padding-top-10">
                  &copy; 2020 The Holding Company<br>
 <a href="javascript:;">Privacy Policy</a> | <a href="javascript:;">Terms of Service</a>
          </div>
          <!-- END COPYRIGHT -->
	  <!-- BEGIN SOCIAL -->
<div class="col-md-6 col-sm-6">
  <ul class="social-footer list-unstyled list-inline pull-right">
    
      <li><a target="_blank" rel="noopener" href="https://github.com/ptsteadman"><i class="fa fa-github"></i></a></li>
    
      <li><a target="_blank" rel="noopener" href="https://twitter.com/ptsteadman"><i class="fa fa-twitter"></i></a></li>
    
      <li><a target="_blank" rel="noopener" href="https://www.facebook.com/ptsteadman"><i class="fa fa-facebook"></i></a></li>
    
      <li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li>
    
      <li><a target="_blank" rel="noopener" href="https://linkedin.com/in/ptsteadman"><i class="fa fa-linkedin"></i></a></li>
    
      <li><a target="_blank" rel="noopener" href="http://stackoverflow.com/users/2480493/patrick-steadman"><i class="fa fa-stackoverflow"></i></a></li>
    
  </ul>  
</div>
<!-- END SOCIAL -->

        </div>
      </div>
    </div>
    <!-- END FOOTER -->

  <!-- BEGIN CORE PLUGINS (REQUIRED FOR ALL PAGES) -->
<!--[if lt IE 9]>

<script src="/metronic/assets/plugins/respond.min.js"></script>

<![endif]--> 

<script src="/metronic/assets/plugins/jquery.min.js"></script>


<script src="/metronic/assets/plugins/jquery-migrate.min.js"></script>


<script src="/metronic/assets/plugins/bootstrap/js/bootstrap.min.js"></script>


<script src="/metronic/assets/corporate/scripts/back-to-top.js"></script>


<script src="/metronic/assets/plugins/owl.carousel/owl.carousel.min.js"></script>


<script src="/metronic/assets/corporate/scripts/layout.js"></script>


<script src="/js/wow.min.js"></script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>



<script type="text/javascript">
    jQuery(document).ready(function() {
        Layout.init();    
        Layout.initOWL();
        Layout.initTwitter();
        Layout.initFixHeaderWithPreHeader(); /* Switch On Header Fixing (only if you have pre-header) */
        Layout.initNavScrolling(); 
	new WOW().init();
    });
</script>
<!-- END CORE PLUGINS -->

<!-- BEGIN PAGE-SPECIFIC PLUGINS --> 







<!-- END PAGE-SPECIFIC PLUGINS --> 

<!-- BEGIN INTEGRATIONS -->



<script>
  
    var disqus_config = function () {
      this.page.url = 'https://holdingco.com/2018/06/08/ansible_performance_tuning/';
    };
  
  (function() {  // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//cbergeron.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>

<script id="dsq-count-scr" src="//cbergeron.disqus.com/count.js" async></script>
<noscript>Please enable JavaScript to view the <a target="_blank" href="https://disqus.com/?ref_noscript" rel="nofollow noopener">comments powered by Disqus.</a></noscript>




<!-- END INTEGRATIONS -->

</body>
</html>
